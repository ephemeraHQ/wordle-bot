{"version":3,"file":"index.js","sources":["../../src/Attachment.ts","../../src/encryption.browser.ts","../../src/RemoteAttachment.ts"],"sourcesContent":[null,null,null],"names":["ContentTypeAttachment","ContentTypeId","authorityId","typeId","versionMajor","versionMinor","AttachmentCodec","contentType","encode","content","type","parameters","filename","mimeType","data","decode","fallback","shouldPush","crypto","window","ContentTypeRemoteAttachment","RemoteAttachmentCodec","load","remoteAttachment","codecRegistry","response","fetch","url","payload","Uint8Array","arrayBuffer","Error","digestBytes","subtle","digest","secp","utils","bytesToHex","contentDigest","ciphertext","Ciphertext","aes256GcmHkdfSha256","hkdfSalt","salt","gcmNonce","nonce","encodedContentData","decrypt","secret","encodedContent","proto","EncodedContent","codec","codecFor","encodeEncrypted","getRandomValues","finish","encrypt","startsWith","scheme","contentLength","String","TextEncoder","TextDecoder","hexToBytes","parseInt"],"mappings":"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"}